{"version":3,"sources":["hoc/withAuthRedirect.js","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["mapStateToPropsRedirect","state","isAuth","auth","withAuthRedirect","Component","compose","connect","props","to","module","exports","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onClick","onChange","e","currentTarget","value","autoFocus","onBlur","updateStatus","ProfileInfo","profile","className","s","descBlock","src","photos","large","fullName","aboutMe","mainInfo","contacts","facebook","vk","twitter","instagram","github","lookingForAJobDescription","Post","item","message","likeCount","maxLength10","maxLengthCreator","AddNewPostFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","component","Textarea","name","placeholder","validate","required","MyPosts","postElements","post","reverse","map","p","id","postsBlock","addPost","newPostText","posts","MyPostContainer","profilePage","postData","dispatch","addPostActionCreator","Profile","ProfileContainer","userId","this","match","params","authUserId","profileData","getStatus","React","withRouter"],"mappings":"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","file":"static/js/4.80b0deed.chunk.js","sourcesContent":["import {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\n\r\nconst mapStateToPropsRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    const RedirectComponent = (props) => {\r\n        if(!props.isAuth) return <Redirect to={'/login'}/>\r\n        return <Component {...props}/>\r\n    }\r\n    return compose(connect(mapStateToPropsRedirect))(RedirectComponent)\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"descBlock\":\"ProfileInfo_descBlock__3tWcr\",\"mainInfo\":\"ProfileInfo_mainInfo__CJA_M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__2xnhK\",\"posts\":\"MyPosts_posts__xXe4D\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__2STSu\"};","import React, {useEffect} from 'react';\r\nimport {useState} from 'react';\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status);\r\n    }, [props.status]);\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true);\r\n    };\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status);\r\n    };\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            {!editMode && (\r\n                <div>\r\n                    <span onClick={activateEditMode}>\r\n                        {props.status || '----'}\r\n                    </span>\r\n                </div>\r\n            )}\r\n\r\n            {editMode && (\r\n                <div>\r\n                    <input\r\n                        onChange={onStatusChange}\r\n                        autoFocus={true}\r\n                        onBlur={deactivateEditMode}\r\n                        value={status}\r\n                    />\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProfileStatusWithHooks;\r\n","import s from './ProfileInfo.module.css';\r\nimport Preloader from '../../common/preloader/preloader';\r\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks';\r\n\r\nconst ProfileInfo = (props) => {\r\n    if (!props.profile) {\r\n        return <Preloader/>;\r\n    }\r\n    return (\r\n        <div>\r\n            <div>\r\n                {/*<img src='https://wallpapercave.com/wp/wp2085834.jpg'/>*/}\r\n            </div>\r\n            <div className={s.descBlock}>\r\n                <div>\r\n                    <img src={props.profile.photos.large}/>\r\n                </div>\r\n                <ProfileStatusWithHooks\r\n                    status={props.status}\r\n                    updateStatus={props.updateStatus}\r\n                />\r\n                <div className={s.descBlock}>\r\n                    <div>{props.profile.fullName}</div>\r\n                    <div>{props.profile.aboutMe}</div>\r\n                </div>\r\n                <div className={s.descBlock}>\r\n                    <span className={s.mainInfo}>My contacts:</span>\r\n                    <div>{props.profile.contacts.facebook}</div>\r\n                    <div>{props.profile.contacts.vk}</div>\r\n                    <div>{props.profile.contacts.twitter}</div>\r\n                    <div>{props.profile.contacts.instagram}</div>\r\n                    <div>{props.profile.contacts.github}</div>\r\n                </div>\r\n                <div className={s.descBlock}>\r\n                    <span className={s.mainInfo}>lookingForAJob:</span>\r\n                    <div>{props.profile.lookingForAJobDescription}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\nexport default ProfileInfo;\r\n","import s from './Post.module.css';\r\n\r\nconst Post = (props) => {\r\n  return (\r\n    <div>\r\n      <div className={s.item}>\r\n        <img src='https://w-dog.ru/wallpapers/6/1/464217912085663/kot-ochki-portret.jpg' />\r\n        <div>{props.message}</div>\r\n        <div>\r\n          <span>like {props.likeCount}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Post;\r\n","import s from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport {\r\n    maxLengthCreator,\r\n    required,\r\n} from '../../../utils/validators/validators';\r\nimport { Textarea } from '../../common/FormsControls/FormsControls';\r\n\r\nconst MyPosts = (props) => {\r\n    let postElements = [...props.post].reverse().map((p) => {\r\n        return (\r\n            <Post\r\n                message={p.message}\r\n                likeCount={p.likeCount}\r\n                id={p.id}\r\n                key={p.id}\r\n            />\r\n        );\r\n    });\r\n\r\n    let addNewPost = (value) => {\r\n        props.addPost(value.newPostText);\r\n    };\r\n\r\n    return (\r\n        <div className={s.postsBlock}>\r\n            <h1>My post</h1>\r\n            <AddNewPostFormRedux onSubmit={addNewPost} />\r\n            <div className={s.posts}>\r\n                <div>{postElements}</div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst maxLength10 = maxLengthCreator(10);\r\nconst addNewPostForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field\r\n                    component={Textarea}\r\n                    name='newPostText'\r\n                    placeholder='say hello'\r\n                    validate={[required, maxLength10]}\r\n                />\r\n            </div>\r\n            <div>\r\n                <button>Add post</button>\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\n\r\nconst AddNewPostFormRedux = reduxForm({ form: 'addNewPostForm' })(\r\n    addNewPostForm\r\n);\r\n\r\nexport default MyPosts;\r\n","import React from \"react\";\r\nimport {addPostActionCreator} from \"../../../redux/profile-reducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        post: state.profilePage.postData,\r\n        newPostText: state.profilePage.newPostText\r\n    }\r\n};\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (newPostText) => {\r\n            dispatch(addPostActionCreator(newPostText));\r\n        }\r\n    }\r\n};\r\n\r\nconst MyPostContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\nexport default MyPostContainer;\r\n","import ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostContainer from \"./MyPosts/MyPostContainer\";\r\n\r\n\r\n\r\n\r\n\r\nconst Profile = (props) => {\r\n    return (\r\n        <main>\r\n            <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus}/>\r\n            <MyPostContainer/>\r\n        </main>\r\n    )\r\n}\r\nexport default Profile;\r\n","import React from 'react';\r\nimport Profile from './Profile';\r\nimport {\r\n    getStatus,\r\n    profileData,\r\n    updateStatus,\r\n} from '../../redux/profile-reducer';\r\nimport {connect} from 'react-redux';\r\nimport {withRouter} from 'react-router-dom';\r\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect';\r\nimport {compose} from 'redux';\r\n\r\nclass ProfileContainer extends React.Component {\r\n    componentDidMount() {\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.authUserId;\r\n        }\r\n        this.props.profileData(userId);\r\n        this.props.getStatus(userId);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Profile\r\n                {...this.props}\r\n                profile={this.props.profile}\r\n                status={this.props.status}\r\n                updateStatus={this.props.updateStatus}\r\n            />\r\n        );\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authUserId: state.auth.id,\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {profileData, getStatus, updateStatus}),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfileContainer);\r\n"],"sourceRoot":""}